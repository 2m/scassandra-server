<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Python Driver - Stubbed Cassandra</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Stubbed Cassandra</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
            <li class="toctree-l1 ">
                <a class="" href="../../about">About</a>
            </li>
        

    
        
        <span>Java Client</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/priming-query">Priming Queries</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/priming-ps">Priming Prepared Statements</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/priming-delays">Priming Delays</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/priming-collections">Priming Collections</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/hamcrest-matchers">Hamcest Matchers</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/activity">Activity Verification</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/column-types">Column Types</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../java/troubleshooting">Troubleshooting</a>
                    
                </li>
            
        

    
        
        <span>Standlone</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../activity">Activity Verification</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../priming-query">Priming Queries</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../priming-ps">Priming Prepared Statements</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../priming-cluster-name">Priming Cluster Name</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../priming-errors">Priming Errors</a>
                    
                </li>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">Python Driver</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#using-the-python-driver">Using the Python driver</a></li>
                            
                        
                        </ul>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="../.."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    <li>Python Driver</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h2 id="using-the-python-driver">Using the Python driver</h2>
<p>The Python driver expects certain data to be in the system keyspace and fails if it isn't there. If the queries the Python driver executes changes these primes will stop working.</p>
<pre><code>SELECT peer, data_center, rack, tokens, rpc_address, schema_version FROM system.peers
</code></pre>

<p>-- Empty rows appears to work. No priming required.</p>
<p>Query ran by the Python client:</p>
<pre><code>SELECT cluster_name, data_center, rack, tokens, partitioner, schema_version FROM system.local WHERE key='local'
</code></pre>

<p>Requires:</p>
<ul>
<li>cluster_name</li>
<li>data_center</li>
<li>rack</li>
<li>partitioner</li>
<li>tokens</li>
</ul>
<p>Example prime:</p>
<pre><code class="json">{
  &quot;when&quot;: {
    &quot;query&quot;: &quot;SELECT cluster_name, data_center, rack, tokens, partitioner, schema_version FROM system.local WHERE key='local'&quot;,
    &quot;consistency&quot;: [&quot;ANY&quot;, &quot;ONE&quot;, &quot;TWO&quot;, &quot;THREE&quot;, &quot;QUORUM&quot;, &quot;ALL&quot;, &quot;LOCAL_QUORUM&quot;, &quot;EACH_QUORUM&quot;, &quot;SERIAL&quot;, &quot;LOCAL_SERIAL&quot;, &quot;LOCAL_ONE&quot;],
    &quot;keyspace&quot;: &quot;&quot;,
    &quot;table&quot;: &quot;&quot;
  },
  &quot;then&quot;: {
    &quot;rows&quot;: [{
      &quot;cluster_name&quot;: &quot;custom cluster name&quot;,
      &quot;partitioner&quot;: &quot;org.apache.cassandra.dht.Murmur3Partitioner&quot;,
      &quot;data_center&quot;: &quot;dc1&quot;,
      &quot;rack&quot;: &quot;rc1&quot;,
      &quot;tokens&quot;: [
          &quot;1743244960790844724&quot;
        ],
      &quot;release_version&quot;: &quot;2.0.1&quot;
    }],
    &quot;result&quot;: &quot;success&quot;,
    &quot;column_types&quot;: {
      &quot;cluster_name&quot;: &quot;varchar&quot;,
      &quot;partitioner&quot;: &quot;varchar&quot;,
      &quot;data_center&quot;: &quot;varchar&quot;,
      &quot;rack&quot;: &quot;varchar&quot;,
      &quot;tokens&quot;: &quot;set&quot;,
      &quot;release_version&quot;: &quot;varchar&quot;
    }
  }
}
</code></pre>

<p>Query ran by the current Python driver:</p>
<pre><code>SELECT schema_version FROM system.local WHERE key='local'
</code></pre>

<p>Example prime:</p>
<pre><code class="json">{
  &quot;when&quot;: {
    &quot;query&quot;: &quot;SELECT schema_version FROM system.local WHERE key='local'&quot;
  },
  &quot;then&quot;: {
    &quot;rows&quot;: [
      {
        &quot;schema_version&quot;: &quot;83266003-03da-3a05-a71f-16193c5267f7&quot;
      }
    ],
    &quot;result&quot;: &quot;success&quot;,
    &quot;column_types&quot;: {
      &quot;tokens&quot;: &quot;uuid&quot;
    }
  }
}
</code></pre>


            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../priming-errors" class="btn btn-neutral" title="Priming Errors"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../priming-errors" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>